module.exports=function(t){var e={},n={0:0};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.e=function(e){if(0!==n[e]){var r=require("./"+({}[e]||e)+".chunk."+{1:"5f11a"}[e]+".js"),o=r.modules,i=r.ids;for(var a in o)t[a]=o[a];for(var c=0;c<i.length;c++)n[i[c]]=0}return Promise.all([])},r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/google-docs-batch-invite/",r.oe=function(t){process.nextTick((function(){throw t}))},r(r.s="qVkA")}({"/44/":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={clientId:"771607978696-9p75ppslrr713sdarv59kvidlaoi7tc4.apps.googleusercontent.com",appId:"771607978696",developerKey:"AIzaSyAkGbtRkdo8zFJtrde5qs87EVd-Fy8ZVTM"}},HteQ:function(t,e){t.exports=require("preact")},OhSV:function(t,e,n){"use strict";n.d(e,"a",(function(){return V})),n.d(e,"b",(function(){return G})),n.d(e,"c",(function(){return q})),n.d(e,"d",(function(){return F}));var r,o,i,a=n("HteQ"),c=0,l=[],s=a.options.__b,u=a.options.__r,f=a.options.diffed,p=a.options.__c,d=a.options.unmount;function h(t,e){a.options.__h&&a.options.__h(o,t,c||e),c=0;var n=o.__H||(o.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function v(t){var e=o.context[t.__c],n=h(r++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__}function m(){for(var t;t=l.shift();)if(t.__P)try{t.__H.__h.forEach(y),t.__H.__h.forEach(g),t.__H.__h=[]}catch(e){t.__H.__h=[],a.options.__e(e,t.__v)}}a.options.__b=function(t){o=null,s&&s(t)},a.options.__r=function(t){u&&u(t),r=0;var e=(o=t.__c).__H;e&&(e.__h.forEach(y),e.__h.forEach(g),e.__h=[])},a.options.diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==l.push(e)&&i===a.options.requestAnimationFrame||((i=a.options.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(r),b&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);b&&(e=requestAnimationFrame(n))})(m)),o=null},a.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(y),t.__h=t.__h.filter((function(t){return!t.__||g(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],a.options.__e(n,t.__v)}})),p&&p(t,e)},a.options.unmount=function(t){d&&d(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{y(t)}catch(t){e=t}})),e&&a.options.__e(e,n.__v))};var b="function"==typeof requestAnimationFrame;function y(t){var e=o,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),o=e}function g(t){var e=o;t.__c=t.__(),o=e}var _=function(t,e,n,r,o){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:o;return t===o?n:t};function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var j,w={};function k(t,e,n){if(3===t.nodeType){var r="textContent"in t?t.textContent:t.nodeValue||"";if(!1!==k.options.trim){var o=0===e||e===n.length-1;if((!(r=r.match(/^[\s\n]+$/g)&&"all"!==k.options.trim?" ":r.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===k.options.trim||o?"":" "))||" "===r)&&n.length>1&&o)return null}return r}if(1!==t.nodeType)return null;var i=String(t.nodeName).toLowerCase();if("script"===i&&!k.options.allowScripts)return null;var a,c,l=k.h(i,function(t){var e=t&&t.length;if(!e)return null;for(var n={},r=0;r<e;r++){var o=t[r],i=o.name,a=o.value;"on"===i.substring(0,2)&&k.options.allowEvents&&(a=new Function(a)),n[i]=a}return n}(t.attributes),(c=(a=t.childNodes)&&Array.prototype.map.call(a,k).filter(C))&&c.length?c:null);return k.visitor&&k.visitor(l),l}var S,C=function(t){return t},E={};function P(t){var e=(t.type||"").toLowerCase(),n=P.map;n&&n.hasOwnProperty(e)?(t.type=n[e],t.props=Object.keys(t.props||{}).reduce((function(e,n){var r;return e[(r=n,r.replace(/-(.)/g,(function(t,e){return e.toUpperCase()})))]=t.props[n],e}),{})):t.type=e.replace(/[^a-z0-9-]/i,"")}var x=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.setReviver=function(t){S=t},e.prototype.shouldComponentUpdate=function(t){var e=this.props;return t.wrap!==e.wrap||t.type!==e.type||t.markup!==e.markup},e.prototype.setComponents=function(t){if(this.map={},t)for(var e in t)if(t.hasOwnProperty(e)){var n=e.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[n]=t[e]}},e.prototype.render=function(t){var e=t.wrap;void 0===e&&(e=!0);var n,r=t.type,o=t.markup,i=t.components,c=t.reviver,l=t.onError,s=t["allow-scripts"],u=t["allow-events"],f=t.trim,p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}(t,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),d=c||this.reviver||this.constructor.prototype.reviver||S||a.h;this.setComponents(i);var h={allowScripts:s,allowEvents:u,trim:f};try{n=function(t,e,n,r,o){var i=function(t,e){var n,r,o,i,a="html"===e?"text/html":"application/xml";"html"===e?(i="body",o="<!DOCTYPE html>\n<html><body>"+t+"</body></html>"):(i="xml",o='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+t+"</xml>");try{n=(new DOMParser).parseFromString(o,a)}catch(t){r=t}if(n||"html"!==e||((n=j||(j=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var t=document.createElement("iframe");return t.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",t.setAttribute("sandbox","allow-forms"),document.body.appendChild(t),t.contentWindow.document}())).open(),n.write(o),n.close()),n){var c=n.getElementsByTagName(i)[0],l=c.firstChild;return t&&!l&&(c.error="Document parse failed."),l&&"parsererror"===String(l.nodeName).toLowerCase()&&(l.removeChild(l.firstChild),l.removeChild(l.lastChild),c.error=l.textContent||l.nodeValue||r||"Unknown error",c.removeChild(l)),c}}(t,e);if(i&&i.error)throw new Error(i.error);var a=i&&i.body||i;P.map=r||E;var c=a&&function(t,e,n,r){return k.visitor=e,k.h=n,k.options=r||w,k(t)}(a,P,n,o);return P.map=null,c&&c.props&&c.props.children||null}(o,r,d,this.map,h)}catch(t){l?l({error:t}):"undefined"!=typeof console&&console.error&&console.error("preact-markup: "+t)}if(!1===e)return n||null;var v=p.hasOwnProperty("className")?"className":"class",m=p[v];return m?m.splice?m.splice(0,0,"markup"):"string"==typeof m?p[v]+=" markup":"object"==O(m)&&(m.markup=!0):p[v]="markup",d("div",p,n||null)},e}(a.Component);function A(){return(A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var T=Object(a.createContext)({intl:{}});function I(t){return null!=t}function L(t,e){for(var n in e)t[n]=e[n];return t}var N=/[?&#]intl=show/;function V(t){var e=t.scope,n=t.mark,r=t.definition,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}(t,["scope","mark","definition"]),i=L({},v(T).intl||{});return e&&(i.scope=e),r&&(i.dictionary=function t(e,n){var r=L({},e);for(var o in n)n.hasOwnProperty(o)&&(e[o]&&n[o]&&"object"===D(e[o])&&"object"===D(n[o])?r[o]=t(e[o],n[o]):r[o]=e[o]||n[o]);return r}(i.dictionary||{},r)),(n||"undefined"!=typeof location&&String(location).match(N))&&(i.mark=!0),Object(a.h)(T.Provider,{value:{intl:i}},o.children)}function U(t,e){if(arguments.length<2)return e=t,function(t){return U(t,e)};function n(n){return Object(a.h)(V,e||{},Object(a.h)(t,n))}return n.getWrappedComponent=t&&t.getWrappedComponent||function(){return t},n}var z={};function H(t,e,n,r){return t&&t.replace(/\{\{([\w.-]+)\}\}/g,R.bind(null,e||z,n,r))}function R(t,e,n,r,o){for(var i=o.split("."),a=t,c=0;c<i.length;c++){if(null==(a=a[i[c]]))return"";if(a&&a.type===q)return F(a.props.id,e,n,a.props.fields,a.props.plural,a.props.fallback)}return"string"==typeof a&&a.match(/\{\{/)&&(a=H(a,t)),a}function F(t,e,n,r,o,i){e&&(t=e+"."+t);var a=n&&_(n,t);return(o||0===o)&&a&&"object"===D(a)&&(a=a.splice?a[o]||a[0]:0===o&&I(a.none||a.zero)?a.none||a.zero:1===o&&I(a.one||a.singular)?a.one||a.singular:a.some||a.many||a.plural||a.other||a),a&&H(a,r,e,n)||i||null}function M(t){var e=t.value,n=t.id,r=v(T).intl;if(r&&r.mark){var o="dictionary"+(r&&r.scope?"."+r.scope:"")+"."+n;return Object(a.h)("mark",{style:{background:e?_(r,o)?"rgba(119,231,117,.5)":"rgba(229,226,41,.5)":"rgba(228,147,51,.5)"},title:n},e)}return e}function q(t){var e=t.id,n=t.children,r=t.plural,o=t.fields,i=v(T).intl,c=F(e,i&&i.scope,i&&i.dictionary,o,r,n);return Object(a.h)(M,{id:e,value:c})}function B(t,e,n){var r={};for(var o in e=e||{},t=function(t){if("string"==typeof(t=t||{})&&(t=t.split(",")),"join"in t){for(var e={},n=0;n<t.length;n++){var r=t[n].trim();r&&(e[r.split(".").pop()]=r)}return e}return t}(t))if(t.hasOwnProperty(o)&&t[o]){var i=t[o];n||"string"!=typeof i?i.type===q&&(i=L({fallback:i.props.children},i.props),r[o]=F(i.id,e.scope,e.dictionary,i.fields,i.plural,i.fallback)):r[o]=F(i,e.scope,e.dictionary)}return r}function G(t){var e=t.children,n=v(T).intl;return e&&e.length?e.map((function(t){return Object(a.cloneElement)(t,B(t.props,n,!0))})):e&&Object(a.cloneElement)(e,B(e.props,n,!0))}function $(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}function Q(t){var e=t.html,n=t.id,r=$(t,["html","id"]);return Object(a.h)(M,{id:n,value:e?"string"==typeof e?Object(a.h)(x,A({},{type:"html",trim:!1},r,{markup:e})):Object(a.h)("span",null,e):e})}U.intl=U,U.IntlContext=T,U.IntlProvider=V,U.Text=q,U.MarkupText=function(t){var e=t.id,n=t.fields,r=t.plural,o=t.children,i=$(t,["id","fields","plural","children"]);return Object(a.h)(G,null,Object(a.h)(Q,A({},{html:Object(a.h)(q,{id:e,fields:n,plural:r,children:o}),id:e},i)))},U.Localizer=G,U.withText=function(t){return function(e){function n(n,r){var o=v(T).intl,i=B("function"==typeof t?t(n,{intl:o}):t,o);return Object(a.h)(e,L(L({},n),i))}return n.getWrappedComponent=e&&e.getWrappedComponent||function(){return e},n}},U.useText=function(t){var e=v(T).intl;return B("function"==typeof t?t({intl:e}):t,e)},U.translate=F},"T+V2":function(t,e,n){var r={"./ja.json":["IJWC",1]};function o(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],o=e[0];return n.e(e[1]).then((function(){return n.t(o,3)}))}o.keys=function(){return Object.keys(r)},o.id="T+V2",t.exports=o},dmYQ:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return j}));var r=n("HteQ"),o=n("OhSV"),i=n("/44/"),a=n("gIhm");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=p(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function p(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(_,e);var c,s,p,d,y=b(_);function _(){var t;h(this,_);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return O(g(t=y.call.apply(y,[this].concat(n))),"state",{isGapiLoaded:!1,tokenClient:null,accessToken:null,users:"",sendNotificationEmail:!0,role:a.b.reader,selectedDocument:null,selectedDocumentPermissions:null,result:null,batchLoading:!1,language:"",i18n:{}}),t}return c=_,(s=[{key:"componentDidMount",value:function(){var t,e=this,n=f(navigator.languages);try{for(n.s();!(t=n.n()).done;){var r=t.value.split("-")[0];if(Object(a.c)(r)){this.switchLanguage(r);break}}}catch(t){n.e(t)}finally{n.f()}this.loadExternalScript("https://apis.google.com/js/api.js",(function(){gapi.load("client:picker",u((function*(){yield gapi.client.init({}),yield gapi.client.load("drive","v3"),e.setState({isGapiLoaded:!0})})))})),this.loadExternalScript("https://accounts.google.com/gsi/client",(function(){e.setState({tokenClient:google.accounts.oauth2.initTokenClient({client_id:i.a.clientId,scope:"https://www.googleapis.com/auth/drive.file",prompt:"",callback:function(t){e.setState({accessToken:t.access_token},(function(){return e.choose()}))}})})}))}},{key:"loadExternalScript",value:function(t,e){var n=document.createElement("script");n.src=t,n.onload=e,document.body.appendChild(n)}},{key:"authorizeAndChoose",value:function(){this.state.tokenClient&&this.state.tokenClient.requestAccessToken()}},{key:"choose",value:function(){var t=this;this.state.accessToken&&(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.SUPPORT_DRIVES).setAppId(i.a.appId).setOAuthToken(this.state.accessToken).addView(new google.picker.DocsView).addView((new google.picker.DocsView).setEnableDrives(!0)).setDeveloperKey(i.a.developerKey).setCallback(function(){var e=u((function*(e){if(e.action===google.picker.Action.PICKED){var n=e.docs[0];try{var r=yield gapi.client.drive.permissions.list({fileId:n.id,supportsAllDrives:!0,fields:"*"});t.setState({selectedDocument:n,selectedDocumentPermissions:r.result,result:null})}catch(t){alert(t.result.error.message),console.error(t)}}}));return function(t){return e.apply(this,arguments)}}()).build().setVisible(!0)}},{key:"batchInvite",value:function(){var t=this;if(this.state.selectedDocument&&this.validatedUsers.isValid){var e=Object(o.d)(this.state.sendNotificationEmail?"batchInvite.confirm.withEmail":"batchInvite.confirm.withoutEmail","",this.state.i18n,{count:this.validatedUsers.users.length,role:this.state.role},void 0,"Are you sure you want to invite ".concat(this.validatedUsers.users.length," users as ").concat(this.state.role," ").concat(this.state.sendNotificationEmail?"with":"without"," sending notification email?"));if(confirm(e)){this.setState({batchLoading:!0});var n,r=gapi.client.newBatch(),i=f(this.validatedUsers.users);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.add(gapi.client.drive.permissions.create({fileId:this.state.selectedDocument.id,sendNotificationEmail:this.state.sendNotificationEmail,supportsAllDrives:!0,fields:"*",resource:{role:this.state.role,type:"user",emailAddress:a}}),{id:a})}}catch(t){i.e(t)}finally{i.f()}r.then((function(e){var n=e.result;t.setState({result:n,batchLoading:!1})}))}}}},{key:"switchLanguage",value:(d=u((function*(t){if(Object(a.c)(t))if(t){var e=yield n("T+V2")("./".concat(t,".json"));e.hasOwnProperty=function(){return!0},this.setState({language:t,i18n:e})}else this.setState({language:t,i18n:{}})})),function(t){return d.apply(this,arguments)})},{key:"validatedUsers",get:function(){var t=this.state.users.split("\n").map((function(t){return t.trim()})).filter((function(t){return t}));if(0===t.length)return{isValid:!1,reason:Object(o.d)("validation.empty","",this.state.i18n,{},void 0,"Please specify at least one user.")};var e=t.find((function(t){return!t.includes("@")}));return e?{isValid:!1,reason:Object(o.d)("validation.invalid","",this.state.i18n,{invalidUser:e},void 0,e+" is an invalid email address")}:{isValid:!0,users:t}}},{key:"renderLoading",value:function(){return Object(r.h)("div",null,Object(r.h)("img",{src:"https://cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif"}),Object(r.h)(o.c,{id:"loading"},"Loading Google API..."))}},{key:"renderAuthorize",value:function(){var t=this;return Object(r.h)("button",{onClick:function(){return t.authorizeAndChoose()}},Object(r.h)(o.c,{id:"authorizeAndChooseADocument"},"Authorize and choose a document"))}},{key:"renderChoose",value:function(){var t=this;return Object(r.h)("button",{onClick:function(){return t.choose()}},Object(r.h)(o.c,{id:"chooseADocument"},"Choose a document"))}},{key:"renderBatchInvite",value:function(){var e,n=this;if(this.state.selectedDocument&&this.state.selectedDocumentPermissions)return Object(r.h)(t,null,this.renderChoose(),Object(r.h)("div",{class:"selected-document"},Object(r.h)("h2",null,Object(r.h)("img",{src:this.state.selectedDocument.iconUrl}),Object(r.h)("a",{href:this.state.selectedDocument.url,target:"_blank"},this.state.selectedDocument.name)),Object(r.h)(o.c,{id:"batchInvite.lastEdited"},"Last edited"),":"," ",new Date(this.state.selectedDocument.lastEditedUtc).toLocaleString(this.state.language||void 0,{dateStyle:"full",timeStyle:"full"})),Object(r.h)("div",{class:"current-permissions"},Object(r.h)("h3",null,Object(r.h)(o.c,{id:"batchInvite.currentPermissions"},"Current permissions")),Object(r.h)("ul",null,null===(e=this.state.selectedDocumentPermissions.permissions)||void 0===e?void 0:e.map((function(t){return Object(r.h)("li",null,t.role,":",t.deleted?"[DELETED] ":"",Object(r.h)("img",{src:t.photoLink}),t.displayName||"(NO NAME)","  <",t.emailAddress||"(NO ADDRESS)",">")})))),Object(r.h)(o.b,null,Object(r.h)("textarea",{value:this.state.users,onInput:function(t){return n.setState({users:t.target.value})},placeholder:Object(r.h)(o.c,{id:"batchInvite.enterOneEmailPerLine"},"Enter one email address per line")})),Object(r.h)("div",{class:"validation-result"},this.validatedUsers.isValid?" ":this.validatedUsers.reason),Object(r.h)("div",{class:"wrapper-roles"},Object.values(a.b).map((function(t){return Object(r.h)("label",null,Object(r.h)("input",{type:"radio",checked:n.state.role===t,onClick:function(){return n.setState({role:t})}}),Object(r.h)("span",null,t))}))),Object(r.h)("div",{class:"wrapper-send-notification-email"},Object(r.h)("label",null,Object(r.h)("input",{type:"checkbox",checked:this.state.sendNotificationEmail,onClick:function(){return n.setState({sendNotificationEmail:!n.state.sendNotificationEmail})}}),Object(r.h)(o.c,{id:"batchInvite.notifyPeople"},"Notify people (Send Notification Email)"))),Object(r.h)("button",{onClick:function(){return n.batchInvite()},disabled:!this.validatedUsers.isValid||this.state.batchLoading},Object(r.h)(o.c,{id:"batchInvite.batchInvite"},"Batch invite")),this.state.batchLoading&&Object(r.h)("img",{src:"https://cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif",class:"loading"}))}},{key:"renderResult",value:function(){var e=this;if(this.state.result){var n=Object.values(this.state.result).flatMap((function(t){var n=t.result;return!("error"in n)&&n.role!==e.state.role&&n.role?[n]:[]}));return Object(r.h)(t,null,Object(r.h)("ul",null,Object.entries(this.state.result).map((function(t){var e=l(t,2),n=e[0],o=e[1];return Object(r.h)("li",{class:"error"in o.result?"error":""},Object(r.h)("details",null,Object(r.h)("summary",null,n,": ",o.status," ",o.statusText,"error"in o.result&&" ["+o.result.error.message+"]"),Object(r.h)("pre",null,JSON.stringify(o.result,null,4))))}))),n.length>0&&Object(r.h)("div",{class:"not-reflected"},Object(r.h)(o.c,{id:"notReflected1",fields:{role:this.state.role,count:n.length}},"Although you invited people as ",this.state.role,", ",n.length," people have different roles."," "),Object(r.h)("a",{href:"https://developers.google.com/drive/api/v3/manage-sharing#:~:text=Permissions%20can%20be%20granted,the%20file%20or%20folder.",target:"_blank"},Object(r.h)(o.c,{id:"notReflected2"},"This can be because they already had a more permissive role.")),Object(r.h)("ul",null,n.map((function(t){var e=t.displayName,n=t.emailAddress,o=t.role;return Object(r.h)("li",null,o,": ",e," <",n,">")})))),this.renderChoose())}}},{key:"render",value:function(){var t=this;return Object(r.h)(o.a,{definition:this.state.i18n},Object(r.h)("main",null,Object(r.h)("select",{value:this.state.language,onChange:function(e){return t.switchLanguage(e.target.value)}},a.a.map((function(t){var e=t.id,n=t.name;return Object(r.h)("option",{value:e},n)}))),Object(r.h)("h1",null,"Google Docs Batch Invite"),Object(r.h)("p",null,Object(r.h)(o.c,{id:"appDescription"},"Share your Google Docs (and any files on Google Drive) with multiple users at once.")),Object(r.h)("p",null,"© 2022 Yusuke Kido [",Object(r.h)("a",{href:"https://github.com/kissge/google-docs-batch-invite"},"Source on GitHub"),"]"),this.state.tokenClient&&this.state.isGapiLoaded?this.state.accessToken?this.state.selectedDocument?this.state.result?this.renderResult():this.renderBatchInvite():this.renderChoose():this.renderAuthorize():this.renderLoading()))}}])&&v(c.prototype,s),p&&v(c,p),Object.defineProperty(c,"prototype",{writable:!1}),_}(r.Component)}).call(this,n("HteQ").Fragment)},gIhm:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i})),function(t){t.reader="reader",t.commenter="commenter",t.writer="writer",t.fileOrganizer="fileOrganizer",t.organizer="organizer",t.owner="owner"}(r||(r={}));var o=[{id:"",name:"English"},{id:"ja",name:"日本語"}];function i(t){return o.some((function(e){return e.id===t}))}},qVkA:function(t,e,n){"use strict";n.r(e);var r=n("dmYQ");e.default=r.a}});
//# sourceMappingURL=ssr-bundle.js.map